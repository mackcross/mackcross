"0","# Determine quantiles "
"0","# quantile(my_map$cleaned_rural_mean_sci, na.rm = TRUE)"
"0",""
"0","# Set quantiles "
"0","my_map$binned_science <- as.numeric(my_map$cleaned_rural_mean_sci)"
"0","my_map$binned_science <- cut(my_map$cleaned_rural_mean_sci,"
"0","                             breaks = c(19.01000, 20.13391, 20.64000, 21.16250, 22.63571),"
"0","                             labels = c(1, 2, 3, 4))"
"0","my_map$binned_science <- as.numeric(my_map$binned_science)"
"0",""
"0",""
"0","sci_map <- tm_shape(my_map) +"
"0","  tm_fill(""cleaned_rural_CountySpendingPerStudent"", style = ""quantile"", n = 5, palette = ""Greys"", title = ""Avg. Spending per Student"") +"
"0","  tm_bubbles(size = ""binned_science"","
"0","             col = ""#034e7b"", "
"0","             alpha = .8, "
"0","             title.size =""Avg. ACT Science Score"", "
"0","             legend.size.is.portrait=TRUE,"
"0","             sizes.legend.labels=c(""<= 20.1"",""<= 20.6"",""<= 21.2"",""<= 22.6""), "
"0","             scale = 1.75) +"
"0","  #tm_layout(frame = FALSE, bg.color = ""black"") +"
"0","  tm_legend(outside = TRUE, "
"0","            outside.position = ""left"", "
"0","            bg.color = ""transparent"", "
"0","            frame = FALSE)"
"0",""
"0","###############################################################################"
"0",""
"0","# Determine quantiles "
"0","# quantile(my_map$cleaned_rural_mean_math, na.rm = TRUE)"
"0",""
"0","# Set quantiles "
"0","my_map$binned_math <- as.numeric(my_map$cleaned_rural_mean_math)"
"0","my_map$binned_math <- cut(my_map$cleaned_rural_mean_math,"
"0","                             breaks = c(19.66250, 21.33818, 21.68000, 22.08706, 23.12000),"
"0","                             labels = c(1, 2, 3, 4))"
"0","my_map$binned_math <- as.numeric(my_map$binned_math)"
"0",""
"0",""
"0","math_map <- tm_shape(my_map) +"
"0","  tm_fill(""cleaned_rural_CountySpendingPerStudent"", style = ""quantile"", n = 5, palette = ""Greys"", title = ""Avg. Spending per Student"") +"
"0","  tm_bubbles(size = ""binned_math"","
"0","             col = ""#034e7b"","
"0","             alpha = .8, "
"0","             title.size =""Avg. ACT Math Score"", "
"0","             legend.size.is.portrait=TRUE,"
"0","             sizes.legend.labels=c(""<= 21.3"",""<= 21.7"",""<= 22.1"",""<= 23.1""), "
"0","             scale = 1.75) +"
"0","  #tm_layout(frame = FALSE, bg.color = ""black"") +"
"0","  tm_legend(outside = TRUE, "
"0","            outside.position = ""left"", "
"0","            bg.color = ""transparent"", "
"0","            frame = FALSE)"
"0",""
"0","# Combine the maps into a list"
"0","maps <- list(sci_map, math_map)"
"0",""
"0","# Use gganimate to animate between the maps"
"0","animated_map <- gganimate::transition_manual("
"0","  states = maps,"
"0","  transition_length = 1,"
"0","  keep_last_state = TRUE"
"0",")"
"2","Error: frames must be provided
"
